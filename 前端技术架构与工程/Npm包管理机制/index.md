npm 安装依赖的步骤

1. 检查配置，包括项目及、用户级、全局级、内置的.npmrc文件
2. 确定依赖版本，构建依赖树。package-lock.json优先级高于package.json。
3. 下载资源包，先确定是否有匹配的缓存版本，如果有直接使用缓存文件，如果没有就下载添加到缓存，然后将包按依赖树解压到 node_modules目录。
4. 生成lockfile文件。

yarn 解决了当时npm依赖管理的问题：

1. 确定性
2. 模块扁平化安装
3. 更好的网络性能
4. 引入缓存机制，实现离线策略

